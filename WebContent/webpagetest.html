<!DOCTYPE html>
<html>
  <head>
    <style media="screen">
      #TutorsDiv{
        text-align: center;
      }
      .tutorDiv{
        background-color: orange;
        color: white;
        border-radius: 25px;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <meta charset="utf-8">
    <title>test</title>
  </head>
  <body>

    <div id="TutorsDiv">
      <form class="" action="index.html" method="post">
        <input id="searchTerm" type="text" name="name" value="">
        <input onClick="clickAlchemy()" type="button" name="submit" value="Submit">
      </form>
    </div>
    <script type="text/javascript">
    function clickAlchemy()
    {
      //alert("hello");
        var searchVal = $("#searchTerm").val();
            if (searchVal.length  < 1) {
                alert("Please enter a valid search keyword");
                return;
            }

            var getUrl = "http://localhost:8080/restservice-1.0/rest/twitter/query?keyword=" + searchVal + "&algorithm=A";
            console.log("getting data from:", getUrl);

            $.get( getUrl, function( results )
            {
              renderResults(results);
            });
    }

    function renderResults(results)
    {
      var tutorArray = JSON.parse(results);
      var element = document.getElementById("TutorsDiv");
      for(var i = 0; i < tutorArray.length; i++){
        element.innerHTML +='<div class="tutorDiv"> <h3>' + tutorArray[i].name + '</h3><img src="' + tutorArray[i].picture + '" height="90" width="90"><div class="subject">Subject: ' + tutorArray[i].subject + '</div> <div class="school"> School: ' + tutorArray[i].school + '</div><div class="posReviews">Positive Reviews: ' + tutorArray[i].numPosReviews + '  </div>';
      }
      console.log(results);
    }
/*
    var tutorArray = [{
      "id": 54,
      "subject": "being awesome",
      "name": "Nathaniel Shak",
      "school": "Stanford",
      "picture": "http://i.ytimg.com/vi/tntOCGkgt98/maxresdefault.jpg",
      "numPosReviews": 9001
    },
    {
      "id": 23,
      "subject": "flying",
      "name": "John Pericich",
      "school": "Stanford",
      "picture": "http://i.ytimg.com/vi/tntOCGkgt98/maxresdefault.jpg",
      "numPosReviews": 9000
    },
    {
      "id": 56,
      "subject": "Computer Science",
      "name": "Deeksha Sharma",
      "school": "Santa Clara Unversity",
      "picture": "http://i.ytimg.com/vi/tntOCGkgt98/maxresdefault.jpg",
      "numPosReviews": 23
    }];
    var element = document.getElementById("TutorsDiv");
    for(var i = 0; i < tutorArray.length; i++){
      element.innerHTML +='<div class="tutorDiv"> <h3>' + tutorArray[i].name + '</h3><img src="' + tutorArray[i].picture + '" height="90" width="90"><div class="subject">Subject: ' + tutorArray[i].subject + '</div> <div class="school"> School: ' + tutorArray[i].school + '</div><div class="posReviews">Positive Reviews: ' + tutorArray[i].numPosReviews + '  </div>';
    }*/
    </script>
  </body>
</html>
